#program connect4  10 REM CONNECT 4  11 REM _______________________  19 REM -----------------------  20 REM Import sprite data  21 REM _______________________  30 LOAD "connect4.spr" BANK 16,0,1280  40 SPRITE BANK 16  50 SPRITE CLEAR : SPRITE PRINT 1 199 REM ----------------------- 200 REM Set up the board 201 REM _______________________ 210 LET %i=1 220 FOR y=88 TO 168 STEP 16 230 FOR x=104 TO 200 STEP 16 240 SPRITE %i,x,y,2,1 250 LET %i=%i+1 260 NEXT x: NEXT y 299 REM ----------------------- 300 REM Set up player sprite 301 REM _______________________ 310 SPRITE 0,152,72,0,1 500 REM Initialise variables 510 LET p=4: LET x=152: LET c=0 520 DIM b(7): FOR i=1 TO 7: LET b(i)=6: NEXT i 599 REM ----------------------- 600 REM Invite player movement  601 REM _______________________ 610 IF INKEY$ ="o" THEN GO SUB 700 620 IF INKEY$ ="p" THEN GO SUB 800 630 IF INKEY$ =" " THEN GO SUB 900 640 IF INKEY$ ="r" THEN GO TO 50 650 GO TO 610 699 REM ----------------------- 700 REM Move left 701 REM _______________________ 710 IF p=1 THEN RETURN  720 FOR i=1 TO 16 730 LET x=x-1: SPRITE 0,x,72,c,1 740 NEXT i 750 LET p=p-1 760 RETURN  799 REM ----------------------- 800 REM Move left 801 REM _______________________ 810 IF p=7 THEN RETURN  820 FOR i=1 TO 16 830 LET x=x+1: SPRITE 0,x,72,c,1 840 NEXT i 850 LET p=p+1 860 RETURN  899 REM ----------------------- 900 REM Drop counter 901 REM _______________________ 910 IF b(p)=0 THEN RETURN  920 LET y=72 930 FOR i=1 TO b(p)*16 940 LET y=y+1 950 SPRITE 0,x,y,c,1 960 NEXT i 970 LET b(p)=b(p)-1 980 SPRITE p+7*b(p),x,y,c+3,1 990 IF c=0 THEN LET c=1: ELSE LET c=01010 RETURN 